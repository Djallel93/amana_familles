<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation - SystÃ¨me de Gestion des Familles</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1a73e8, #1669c1);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .nav {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 3px solid #1a73e8;
        }

        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .nav-btn {
            padding: 12px 24px;
            background: white;
            border: 2px solid #1a73e8;
            border-radius: 8px;
            color: #1a73e8;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav-btn:hover {
            background: #1a73e8;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 115, 232, 0.3);
        }

        .content {
            padding: 40px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: #1a73e8;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #1a73e8;
        }

        h3 {
            color: #333;
            font-size: 1.5em;
            margin: 30px 0 15px;
        }

        .card {
            background: #f8f9fa;
            border-left: 4px solid #1a73e8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .workflow {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }

        .step {
            display: flex;
            align-items: flex-start;
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .step:hover {
            transform: translateX(10px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .step-number {
            background: linear-gradient(135deg, #1a73e8, #1669c1);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            flex-shrink: 0;
            margin-right: 20px;
        }

        .step-content h4 {
            color: #1a73e8;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .step-content p {
            color: #666;
            line-height: 1.6;
        }

        .diagram {
            background: white;
            border: 3px solid #1a73e8;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .flow-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 15px auto;
            max-width: 400px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .arrow {
            font-size: 2em;
            color: #1a73e8;
            margin: 10px 0;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        ul {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 10px 0;
            line-height: 1.6;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .feature-card:hover {
            border-color: #1a73e8;
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            color: #1a73e8;
            margin-bottom: 10px;
        }

        .screenshot {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            display: block;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .step {
                flex-direction: column;
            }

            .step-number {
                margin-bottom: 15px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“¦ SystÃ¨me de Gestion des Familles</h1>
            <p>Documentation ComplÃ¨te pour Administrateurs</p>
        </div>

        <div class="nav">
            <div class="nav-buttons">
                <a class="nav-btn" onclick="showSection('overview')">ğŸ  Vue d'ensemble</a>
                <a class="nav-btn" onclick="showSection('forms')">ğŸ“ Formulaires</a>
                <a class="nav-btn" onclick="showSection('manual')">âœï¸ Saisie Manuelle</a>
                <a class="nav-btn" onclick="showSection('bulk')">ğŸ“¥ Import en Masse</a>
                <a class="nav-btn" onclick="showSection('sync')">ğŸ”„ Synchronisation</a>
                <a class="nav-btn" onclick="showSection('email')">ğŸ“§ Emails</a>
            </div>
        </div>

        <div class="content">
            <!-- VUE D'ENSEMBLE -->
            <div id="overview" class="section active">
                <h2>ğŸ  Vue d'Ensemble du SystÃ¨me</h2>

                <div class="info-box">
                    <h3>ğŸ’¡ Ã€ quoi sert ce systÃ¨me ?</h3>
                    <p>Ce systÃ¨me permet de gÃ©rer efficacement les familles bÃ©nÃ©ficiaires d'aide alimentaire et sociale.
                        Il centralise toutes les informations, synchronise avec vos contacts Google, et facilite la
                        communication.</p>
                </div>

                <h3>ğŸ¯ FonctionnalitÃ©s Principales</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>Formulaires Multilingues</h4>
                        <p>FranÃ§ais, Arabe, Anglais</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“</div>
                        <h4>Sync Google Contacts</h4>
                        <p>Bidirectionnelle automatique</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“¥</div>
                        <h4>Import en Masse</h4>
                        <p>Importez plusieurs familles Ã  la fois</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“§</div>
                        <h4>Emails de VÃ©rification</h4>
                        <p>Validation automatique des donnÃ©es</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸŒ</div>
                        <h4>GÃ©olocalisation</h4>
                        <p>Attribution automatique des quartiers</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">âš¡</div>
                        <h4>PrioritÃ©s</h4>
                        <p>CriticitÃ© 0-5 pour la logistique</p>
                    </div>
                </div>

                <h3>ğŸ” DonnÃ©es CollectÃ©es</h3>
                <div class="card">
                    <ul>
                        <li><strong>Informations de contact :</strong> Nom, prÃ©nom, tÃ©lÃ©phone(s), email</li>
                        <li><strong>Adresse complÃ¨te :</strong> Rue, code postal, ville (+ gÃ©olocalisation automatique)
                        </li>
                        <li><strong>Composition du foyer :</strong> Nombre d'adultes et d'enfants</li>
                        <li><strong>Ã‰ligibilitÃ© :</strong> Zakat El Fitr, Sadaqa</li>
                        <li><strong>MobilitÃ© :</strong> Peut se dÃ©placer pour rÃ©cupÃ©rer le colis ?</li>
                        <li><strong>PrioritÃ© :</strong> CriticitÃ© de 0 (non Ã©valuÃ©) Ã  5 (urgente)</li>
                        <li><strong>Langue :</strong> PrÃ©fÃ©rence pour les communications</li>
                        <li><strong>Notes :</strong> Circonstances, spÃ©cificitÃ©s, ressentis</li>
                    </ul>
                </div>

                <h3>ğŸ“Š Workflow Global</h3>
                <div class="diagram">
                    <div class="flow-box">ğŸ“ Soumission (Formulaire/Manuel/Import)</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">âœ… Validation (Adresse, Doublon, DonnÃ©es)</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">ğŸ“‹ Enregistrement dans la Feuille</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">âš™ï¸ Statut "En cours"</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">ğŸ‘¨â€ğŸ’¼ Validation Manuelle par Admin</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">ğŸ“ CrÃ©ation Contact Google</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">âœ¨ Disponible pour tous (via sync)</div>
                </div>
            </div>

            <!-- FORMULAIRES -->
            <div id="forms" class="section">
                <h2>ğŸ“ Formulaires Google</h2>

                <div class="info-box">
                    <h3>ğŸŒ Formulaires Disponibles</h3>
                    <ul>
                        <li><strong>Formulaire FranÃ§ais :</strong> Pour les bÃ©nÃ©ficiaires francophones</li>
                        <li><strong>Formulaire Arabe :</strong> Interface en arabe (RTL)</li>
                        <li><strong>Formulaire Anglais :</strong> Pour les anglophones</li>
                        <li><strong>Formulaire Admin :</strong> Saisie rapide avec Ã©ligibilitÃ©</li>
                    </ul>
                </div>

                <h3>ğŸ“‹ Processus de Soumission via Formulaire</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸŒ La famille remplit le formulaire</h4>
                            <p>Elle choisit le formulaire dans sa langue (FR/AR/EN) et entre ses informations : nom,
                                prÃ©nom, tÃ©lÃ©phone, adresse, composition du foyer, etc.</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>ğŸ“¥ RÃ©ception dans Google Sheets</h4>
                            <p>Les donnÃ©es arrivent automatiquement dans la feuille correspondante (Familles - FR,
                                Familles - AR, ou Familles - EN).</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>ğŸ” Validation Automatique</h4>
                            <p>Le systÃ¨me vÃ©rifie automatiquement :
                            <ul>
                                <li>âœ… Champs requis prÃ©sents</li>
                                <li>âœ… Format tÃ©lÃ©phone valide</li>
                                <li>âœ… Format email valide (si fourni)</li>
                                <li>âœ… Adresse valide et gÃ©olocalisable</li>
                                <li>âœ… Pas de doublon (tÃ©lÃ©phone + nom)</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>ğŸŒ GÃ©olocalisation</h4>
                            <p>L'adresse est envoyÃ©e Ã  l'API GEO qui retourne :
                            <ul>
                                <li>ğŸ“ CoordonnÃ©es GPS</li>
                                <li>ğŸ˜ï¸ Quartier assignÃ©</li>
                                <li>ğŸ¢ Secteur</li>
                                <li>ğŸ™ï¸ Ville</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>ğŸ“ Enregistrement Final</h4>
                            <p>La famille est ajoutÃ©e dans la feuille "Famille" avec :
                            <ul>
                                <li>ğŸ†” ID unique gÃ©nÃ©rÃ©</li>
                                <li>âš™ï¸ Statut "En cours"</li>
                                <li>ğŸ˜ï¸ Quartier assignÃ©</li>
                                <li>âš ï¸ CriticitÃ© 0 par dÃ©faut</li>
                                <li>ğŸ“… Commentaire avec date/heure</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h4>ğŸ“§ Notification Admin</h4>
                            <p>L'administrateur reÃ§oit un email avec toutes les informations de la nouvelle soumission.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <h3>âš ï¸ Cas Particuliers</h3>
                    <ul>
                        <li><strong>Doublon dÃ©tectÃ© :</strong> Si une famille avec le mÃªme tÃ©lÃ©phone+nom existe dÃ©jÃ ,
                            ses donnÃ©es sont mises Ã  jour au lieu de crÃ©er un doublon</li>
                        <li><strong>Adresse introuvable :</strong> La famille est enregistrÃ©e avec statut "RejetÃ©" et un
                            commentaire explicatif</li>
                        <li><strong>Quartier invalide :</strong> La famille est en "En cours" avec un avertissement dans
                            les commentaires</li>
                    </ul>
                </div>
            </div>

            <!-- SAISIE MANUELLE -->
            <div id="manual" class="section">
                <h2>âœï¸ Saisie Manuelle & Mise Ã  Jour</h2>

                <div class="info-box">
                    <h3>ğŸ“‹ AccÃ¨s au Formulaire</h3>
                    <p><strong>Menu Google Sheets :</strong> ğŸ“¦ Gestion Familles â†’ â• Nouvelle Famille / âœï¸ Mise Ã  Jour
                    </p>
                </div>

                <h3>â• Mode Nouvelle Famille</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸ“ Remplir le Formulaire</h4>
                            <p>Tous les champs marquÃ©s d'une Ã©toile (*) sont obligatoires :
                            <ul>
                                <li>Nom, prÃ©nom, tÃ©lÃ©phone</li>
                                <li>Adresse complÃ¨te (rue, code postal, ville)</li>
                                <li>Composition du foyer (adultes + enfants â‰¥ 1 personne)</li>
                                <li>CriticitÃ© (0-5)</li>
                                <li><strong>Ã‰ligibilitÃ© :</strong> Cocher Zakat El Fitr et/ou Sadaqa</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>âœ… Validation et Enregistrement</h4>
                            <p>Le systÃ¨me valide les donnÃ©es (format tÃ©lÃ©phone, email, adresse) et crÃ©e la famille avec
                                statut "En cours".</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>ğŸ“‹ VÃ©rification dans la Feuille</h4>
                            <p>La nouvelle ligne apparaÃ®t dans la feuille "Famille" avec un ID unique et toutes les
                                informations.</p>
                        </div>
                    </div>
                </div>

                <h3>âœï¸ Mode Mise Ã  Jour</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸ” SÃ©lectionner la Famille</h4>
                            <p>Choisissez une famille dans la liste dÃ©roulante (seules les familles validÃ©es sont
                                disponibles). Les champs se prÃ©-remplissent automatiquement.</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>âœï¸ Modifier les Champs</h4>
                            <p>Modifiez uniquement les champs Ã  mettre Ã  jour. Les champs vides ne seront pas modifiÃ©s.
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>ğŸ’¾ Enregistrer</h4>
                            <p>La mise Ã  jour est appliquÃ©e et un commentaire est ajoutÃ© avec la liste des champs
                                modifiÃ©s.</p>
                        </div>
                    </div>
                </div>

                <div class="success-box">
                    <h3>âœ¨ Avantages de la Saisie Manuelle</h3>
                    <ul>
                        <li>âœ… ContrÃ´le total sur la criticitÃ© dÃ¨s la crÃ©ation</li>
                        <li>âœ… DÃ©finition immÃ©diate de l'Ã©ligibilitÃ© (Zakat/Sadaqa)</li>
                        <li>âœ… Pas besoin d'attendre un formulaire</li>
                        <li>âœ… Ajout de notes et observations dÃ©taillÃ©es</li>
                        <li>âœ… Mise Ã  jour ciblÃ©e de champs spÃ©cifiques</li>
                    </ul>
                </div>
            </div>

            <!-- IMPORT EN MASSE -->
            <div id="bulk" class="section">
                <h2>ğŸ“¥ Import et Mise Ã  Jour en Masse</h2>

                <div class="info-box">
                    <h3>ğŸ¯ Quand Utiliser l'Import en Masse ?</h3>
                    <ul>
                        <li>ğŸ“‹ Import initial d'une liste de familles depuis Excel</li>
                        <li>ğŸ”„ RÃ©cupÃ©ration de donnÃ©es depuis un autre systÃ¨me</li>
                        <li>ğŸ“Š Migration de donnÃ©es historiques</li>
                        <li>âš¡ Besoin d'ajouter rapidement plusieurs familles</li>
                    </ul>
                </div>

                <h3>ğŸ“¥ Processus d'Import en Masse</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸ“‹ PrÃ©parer les DonnÃ©es</h4>
                            <p>CrÃ©ez un fichier avec ces colonnes (dans cet ordre) :
                            <ol>
                                <li>Nom</li>
                                <li>PrÃ©nom</li>
                                <li>Nombre Adulte</li>
                                <li>Nombre Enfant</li>
                                <li>Adresse</li>
                                <li>Code Postal</li>
                                <li>Ville</li>
                                <li>TÃ©lÃ©phone</li>
                                <li>TÃ©lÃ©phone Bis (optionnel)</li>
                                <li>Email (optionnel)</li>
                                <li>Se DÃ©place (Oui/Non)</li>
                                <li>Circonstances (optionnel)</li>
                                <li>Ressentit (optionnel)</li>
                                <li>SpÃ©cificitÃ©s (optionnel)</li>
                                <li>CriticitÃ© (0-5)</li>
                                <li>Langue (FranÃ§ais/Arabe/Anglais)</li>
                            </ol>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>ğŸ“‹ Coller dans "Bulk Import"</h4>
                            <p>Ouvrez la feuille "Bulk Import" et collez vos donnÃ©es Ã  partir de la ligne 2 (la ligne 1
                                contient les en-tÃªtes).</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>âš™ï¸ Lancer le Traitement</h4>
                            <p><strong>Menu :</strong> ğŸ“¦ Gestion Familles â†’ ğŸ“¥ Import en Masse â†’ âš™ï¸ Traiter Import
                                <br>Choisissez le nombre de familles Ã  traiter (recommandÃ© : 10-20 par lot).
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>ğŸ‘€ Surveiller les RÃ©sultats</h4>
                            <p>La colonne "commentaire" dans "Bulk Import" affiche le statut de chaque ligne :
                            <ul>
                                <li>â³ En attente : Pas encore traitÃ©e</li>
                                <li>âœ… ImportÃ©e : SuccÃ¨s (ID affichÃ©)</li>
                                <li>âŒ Erreur : ProblÃ¨me dÃ©taillÃ©</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>ğŸ”„ Relancer si NÃ©cessaire</h4>
                            <p>Si des lignes restent en attente, relancez le traitement. Les lignes dÃ©jÃ  traitÃ©es sont
                                ignorÃ©es.</p>
                        </div>
                    </div>
                </div>

                <h3>âœï¸ Mise Ã  Jour en Masse</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸ“‹ Feuille "Bulk Update"</h4>
                            <p>PremiÃ¨re colonne obligatoire : <strong>ID</strong> de la famille
                                <br>Remplissez uniquement les colonnes Ã  mettre Ã  jour (les colonnes vides sont
                                ignorÃ©es).
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>âš™ï¸ Traiter les Mises Ã  Jour</h4>
                            <p><strong>Menu :</strong> ğŸ“¦ Gestion Familles â†’ âœï¸ Mise Ã  Jour en Masse â†’ âš™ï¸ Traiter Mises
                                Ã  Jour</p>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <h3>âš ï¸ Points d'Attention</h3>
                    <ul>
                        <li><strong>Limite de temps :</strong> Google Apps Script a une limite de ~6 minutes. Traitez
                            par lots de 10-20 familles.</li>
                        <li><strong>Validation :</strong> Chaque ligne est validÃ©e (tÃ©lÃ©phone, email, adresse,
                            criticitÃ©, composition foyer).</li>
                        <li><strong>Doublons :</strong> Les doublons (mÃªme tÃ©lÃ©phone + nom) sont rejetÃ©s
                            automatiquement.</li>
                        <li><strong>Statut "En cours" :</strong> Toutes les familles importÃ©es/mises Ã  jour ont le
                            statut "En cours" et nÃ©cessitent une validation manuelle.</li>
                    </ul>
                </div>
            </div>

            <!-- SYNCHRONISATION -->
            <div id="sync" class="section">
                <h2>ğŸ”„ Synchronisation avec Google Contacts</h2>

                <div class="success-box">
                    <h3>âœ¨ Synchronisation Bidirectionnelle</h3>
                    <p>Le systÃ¨me synchronise automatiquement dans les DEUX sens :
                    <ul>
                        <li>ğŸ“¤ <strong>Feuille â†’ Contacts :</strong> Automatique lors de la validation</li>
                        <li>ğŸ“¥ <strong>Contacts â†’ Feuille :</strong> Manuel via le menu</li>
                    </ul>
                    </p>
                </div>

                <h3>ğŸ“¤ Sync Feuille â†’ Contact (Automatique)</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>âœ… Validation dans la Feuille</h4>
                            <p>Lorsqu'un administrateur change le statut d'une famille Ã  "ValidÃ©", le systÃ¨me dÃ©clenche
                                automatiquement la crÃ©ation/mise Ã  jour du contact Google.</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>ğŸ“ CrÃ©ation du Contact</h4>
                            <p>Un contact est crÃ©Ã© dans Google Contacts avec :
                            <ul>
                                <li><strong>Nom :</strong> Format "{ID} - PrÃ©nom NOM"</li>
                                <li><strong>TÃ©lÃ©phone(s) :</strong> Mobile principal + fixe/bis</li>
                                <li><strong>Email :</strong> Si fourni</li>
                                <li><strong>Adresse structurÃ©e :</strong> Rue, CP, Ville</li>
                                <li><strong>Champs personnalisÃ©s :</strong>
                                    <ul>
                                        <li>CriticitÃ© (0-5)</li>
                                        <li>Adultes / Enfants</li>
                                        <li>Zakat El Fitr (Oui/Non)</li>
                                        <li>Sadaqa (Oui/Non)</li>
                                        <li>Langue</li>
                                        <li>Se DÃ©place (Oui/Non)</li>
                                        <li>DerniÃ¨re mise Ã  jour (timestamp)</li>
                                    </ul>
                                </li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>ğŸ·ï¸ Groupes de Contacts</h4>
                            <p>Le contact est automatiquement ajoutÃ© aux groupes :
                            <ul>
                                <li>ğŸ“‹ <strong>"Famille dans le besoin"</strong> (groupe principal)</li>
                                <li>ğŸ“ <strong>"Ville - Secteur"</strong> (ex: "Nantes - Centre")</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>ğŸŒ Disponible Partout</h4>
                            <p>Le contact se synchronise automatiquement sur tous les appareils connectÃ©s au compte
                                Google (tÃ©lÃ©phones, tablettes, ordinateurs).</p>
                        </div>
                    </div>
                </div>

                <h3>ğŸ“¥ Sync Contact â†’ Feuille (Reverse Sync)</h3>
                <div class="info-box">
                    <h3>ğŸ’¡ Pourquoi la Reverse Sync ?</h3>
                    <p><strong>ScÃ©nario :</strong> Un bÃ©nÃ©vole modifie un contact sur son tÃ©lÃ©phone (changement
                        d'adresse, nouveau numÃ©ro, etc.). GrÃ¢ce Ã  la reverse sync, cette modification sera disponible
                        pour tous les autres utilisateurs !</p>
                </div>

                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸ“± Modification sur le TÃ©lÃ©phone</h4>
                            <p>Un bÃ©nÃ©vole ouvre le contact sur son smartphone et modifie :
                            <ul>
                                <li>ğŸ“ Le numÃ©ro de tÃ©lÃ©phone</li>
                                <li>ğŸ“§ L'adresse email</li>
                                <li>ğŸ  L'adresse complÃ¨te</li>
                                <li>ğŸ‘¥ Le nombre d'adultes/enfants</li>
                                <li>âš¡ La criticitÃ©</li>
                                <li>ğŸŒ™ L'Ã©ligibilitÃ© Zakat/Sadaqa</li>
                                <li>ğŸŒ La langue</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>â˜ï¸ Sync Google Automatique</h4>
                            <p>La modification se synchronise automatiquement avec le cloud Google (quelques secondes Ã 
                                quelques minutes selon la connexion).</p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>ğŸ”„ Lancer la Reverse Sync</h4>
                            <p><strong>Menu :</strong> ğŸ“¦ Gestion Familles â†’ ğŸ”„ Synchronisation Contacts â†’ ğŸ“¥ Sync
                                Contact â†’ Feuille
                                <br><br>
                                Le systÃ¨me :
                            <ul>
                                <li>ğŸ” RÃ©cupÃ¨re tous les contacts du groupe "Famille dans le besoin"</li>
                                <li>ğŸ”„ Compare chaque contact avec les donnÃ©es de la feuille</li>
                                <li>âœï¸ Met Ã  jour uniquement les champs modifiÃ©s</li>
                                <li>ğŸ’¬ Ajoute un commentaire "ğŸ”„ Sync Contact â†’ Feuille"</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>âœ… RÃ©sultat</h4>
                            <p>La feuille est mise Ã  jour avec les derniÃ¨res informations du contact. Un rapport
                                dÃ©taillÃ© affiche :
                            <ul>
                                <li>ğŸ“Š Nombre total de contacts traitÃ©s</li>
                                <li>âœ… Nombre de mises Ã  jour effectuÃ©es</li>
                                <li>â– Nombre de contacts inchangÃ©s</li>
                                <li>ğŸ“ Liste des champs modifiÃ©s par famille</li>
                            </ul>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="diagram">
                    <h3>ğŸ”„ Flux de la Reverse Sync</h3>
                    <div class="flow-box">ğŸ“± BÃ©nÃ©vole modifie contact sur tÃ©lÃ©phone</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">â˜ï¸ Sync automatique Google Cloud</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">ğŸ–¥ï¸ Admin lance Reverse Sync depuis Sheets</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">ğŸ” Comparaison Contact vs Feuille</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">âœï¸ Mise Ã  jour de la Feuille</div>
                    <div class="arrow">â¬‡ï¸</div>
                    <div class="flow-box">âœ¨ DonnÃ©es Ã  jour pour tous</div>
                </div>

                <div class="success-box">
                    <h3>âœ¨ Avantages de la Reverse Sync</h3>
                    <ul>
                        <li>ğŸ‘¥ <strong>Collaboration :</strong> Plusieurs personnes peuvent mettre Ã  jour les contacts
                        </li>
                        <li>ğŸ“± <strong>MobilitÃ© :</strong> Mise Ã  jour possible depuis n'importe quel tÃ©lÃ©phone</li>
                        <li>âš¡ <strong>RapiditÃ© :</strong> Pas besoin d'ouvrir Google Sheets sur le terrain</li>
                        <li>ğŸ”„ <strong>Synchronisation :</strong> Garantit que tout le monde a les mÃªmes donnÃ©es</li>
                        <li>ğŸ’¾ <strong>TraÃ§abilitÃ© :</strong> Chaque sync ajoute un commentaire avec la date</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <h3>âš ï¸ Points Ã  Retenir</h3>
                    <ul>
                        <li><strong>Validation du foyer :</strong> La composition (adultes + enfants) doit Ãªtre â‰¥ 1
                            personne. Les modifications invalides sont rejetÃ©es.</li>
                        <li><strong>Adresse canonique :</strong> Le systÃ¨me utilise un format standard "Rue, CP Ville"
                            pour Ã©viter les incohÃ©rences.</li>
                        <li><strong>Pas de doublon :</strong> L'ID famille (dans le nom du contact) identifie de maniÃ¨re
                            unique chaque famille.</li>
                        <li><strong>FrÃ©quence :</strong> Lancez la reverse sync rÃ©guliÃ¨rement (quotidien ou
                            hebdomadaire) pour maintenir les donnÃ©es Ã  jour.</li>
                    </ul>
                </div>
            </div>

            <!-- EMAILS -->
            <div id="email" class="section">
                <h2>ğŸ“§ Emails de VÃ©rification</h2>

                <div class="info-box">
                    <h3>ğŸ¯ But des Emails de VÃ©rification</h3>
                    <p>Envoyer pÃ©riodiquement aux familles validÃ©es un email pour vÃ©rifier que leurs informations sont
                        toujours Ã  jour (adresse, tÃ©lÃ©phone, composition du foyer).</p>
                </div>

                <h3>ğŸ“§ Processus d'Envoi</h3>
                <div class="workflow">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>ğŸ“‹ PrÃ©paration</h4>
                            <p><strong>Menu :</strong> ğŸ“¦ Gestion Familles â†’ ğŸ“§ VÃ©rification Email â†’ ğŸ“Š AperÃ§u des
                                Destinataires
                                <br>VÃ©rifiez la liste des familles qui recevront un email (familles validÃ©es avec
                                email).
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>âœ‰ï¸ Envoi</h4>
                            <p><strong>Menu :</strong> ğŸ“¦ Gestion Familles â†’ ğŸ“§ VÃ©rification Email â†’ âœ‰ï¸ Envoyer Emails
                                <br>Confirmez l'envoi. Le systÃ¨me envoie les emails dans la langue prÃ©fÃ©rÃ©e de chaque
                                famille.
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>ğŸ“¨ RÃ©ception par la Famille</h4>
                            <p>La famille reÃ§oit un email contenant :
                            <ul>
                                <li>âœ… Ses informations actuelles (nom, tÃ©lÃ©phone, adresse, composition)</li>
                                <li>ğŸ”˜ Bouton "Tout est Ã  jour"</li>
                                <li>ğŸ“ Bouton "Mes informations ont changÃ©" (lien vers formulaire)</li>
                            </ul>
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>ğŸ‘† Action de la Famille</h4>
                            <p><strong>Option A :</strong> Clic sur "Tout est Ã  jour" â†’ Un commentaire est ajoutÃ© dans
                                la feuille avec la date de confirmation
                                <br><br>
                                <strong>Option B :</strong> Clic sur "Mes informations ont changÃ©" â†’ Redirection vers le
                                formulaire de mise Ã  jour
                            </p>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>ğŸ“Š Suivi</h4>
                            <p>Consultez la colonne "commentaire_dossier" pour voir quelles familles ont confirmÃ© leurs
                                informations.</p>
                        </div>
                    </div>
                </div>

                <div class="diagram">
                    <h3>ğŸ“§ Contenu de l'Email</h3>
                    <div
                        style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: left; max-width: 500px; margin: 20px auto;">
                        <div
                            style="background: #1a73e8; color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0;">
                            <h4 style="margin: 0;">ğŸ”” Mise Ã  jour de vos informations</h4>
                        </div>
                        <div style="padding: 20px; background: white;">
                            <p><strong>Bonjour Djallel BOUAKKAZ,</strong></p>
                            <p>Nous souhaitons vÃ©rifier que vos informations sont toujours Ã  jour.</p>

                            <div style="background: #f0f4ff; padding: 15px; border-radius: 8px; margin: 15px 0;">
                                <strong>Vos informations actuelles :</strong>
                                <ul style="list-style: none; padding: 10px 0; margin: 0;">
                                    <li>ğŸ“ TÃ©lÃ©phone : +33 6 12 34 56 78</li>
                                    <li>ğŸ  Adresse : 1 Rue de la Paix, 44000 Nantes</li>
                                    <li>ğŸ‘¥ Composition : 2 adultes, 1 enfant</li>
                                </ul>
                            </div>

                            <p style="text-align: center; font-weight: bold;">Vos informations sont-elles toujours
                                correctes ?</p>

                            <div style="text-align: center; margin: 20px 0;">
                                <div
                                    style="display: inline-block; padding: 12px 24px; background: #28a745; color: white; border-radius: 6px; margin: 5px;">
                                    âœ… Tout est Ã  jour
                                </div>
                                <div
                                    style="display: inline-block; padding: 12px 24px; background: #dc3545; color: white; border-radius: 6px; margin: 5px;">
                                    ğŸ“ Mes informations ont changÃ©
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="success-box">
                    <h3>âœ¨ Avantages</h3>
                    <ul>
                        <li>ğŸ“Š <strong>DonnÃ©es Ã  jour :</strong> Maintient la base de donnÃ©es actuelle</li>
                        <li>ğŸŒ <strong>Multilingue :</strong> Email dans la langue prÃ©fÃ©rÃ©e de chaque famille</li>
                        <li>âœ… <strong>Simple :</strong> Un clic pour confirmer</li>
                        <li>ğŸ”„ <strong>Automatique :</strong> Mise Ã  jour directe dans la feuille</li>
                        <li>ğŸ“… <strong>TraÃ§abilitÃ© :</strong> Date de confirmation enregistrÃ©e</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            // Show selected section
            document.getElementById(sectionId).classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>

</html>